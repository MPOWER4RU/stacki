<?xml version="1.0" standalone="no"?>

<kickstart interface="public">

<description>
Partition config for all nodes installed with Ubuntu.
</description>

<si_copyright>
(c) 2006 - 2015 StackIQ Inc.
All rights reserved. stacki(r) v3.0 www.stacki.com
</si_copyright>

<copyright>
Copyright (c) 2000 - 2010 The Regents of the University of California.
All rights reserved. Rocks(r) v5.4 www.rocksclusters.org	
</copyright>


<main>
<partman-auto>init_automatically_partition select entire_disk</partman-auto>
<partman-auto>choose_recipe select All files in one partition (recommended for new users)</partman-auto>
<partman-auto>disk string /dev/sda</partman-auto>
<partman-auto>method string auto</partman-auto>
<partman-auto>purge_lvm_from_device boolean true</partman-auto>
<partman-lvm>device_remove_lvm boolean true</partman-lvm>
<partman-lvm>device_remove_lvm_span boolean true</partman-lvm>
<partman-lvm>confirm boolean true</partman-lvm>
<partman-md>device_remove_md boolean true</partman-md>
<partman-auto>expert_recipe string \
        root :: \
                8192 16384 8241 linux-swap \
                        $primary{ } \
                        method{ swap } format{ } \
                . \
                16000 10 16300 ext4 \
                        $primary{ } $bootable{ } \
                        method{ format } format{ } \
                        use_filesystem{ } filesystem{ ext4 } \
                        mountpoint{ / } \
                . \
                16000 20 16300 xfs \
                        $primary{ } \
                        method{ format } format{ } \
                        use_filesystem{ } filesystem{ xfs } \
                        mountpoint{ /var } \
		10 30 -1 xfs\
			$primary{ } \
			method{ format } format{ } \
			use_filesystem{ } filesystem{ xfs } \
			mountpoint{ /state/partition1 } \
		.
</partman-auto>
<partman>choose_partition select finish</partman>
<partman-lvm>menu/finish select finish</partman-lvm>
<partman-auto-lvm>guided_size string max</partman-auto-lvm>
<partman-auto>choose_recipe select atomic</partman-auto>

<partman>default_filesystem string ext4</partman>
<partman>confirm_write_new_label boolean true</partman>
<partman>confirm boolean true</partman>
<partman-lvm>confirm boolean true</partman-lvm>
<partman-lvm>confirm_nooverwrite boolean true</partman-lvm>
</main>
</kickstart> 
